# 🚀 快速开始指南

## 📦 升级内容一览

✅ **4种防御手段**（原1种 → 现4种）  
✅ **8张可视化图表**（原5张 → 现8张，每张4-6子图）  
✅ **更平滑的曲线**（测试点：4个 → 9个）  
✅ **Graph-Kernel攻击方法**（替代过高的Node-Features）  
✅ **批量自动化处理**  
✅ **交互式动态仪表板**

---

## 🎯 三种使用场景

### 场景A：生成新的实验结果

```bash
cd /home/honglianglu/hdd/Anonymous

# 运行完整实验（包含新防御）
python main_experiment_unified.py --dataset cora --mode all --save

# 输出：results/unified/cora_YYYYMMDD_HHMMSS.json
```

**新特性**：
- ✨ 集成了K-匿名性、特征扰动、图重构防御
- ✨ 使用Graph-Kernel替代Node-Features（准确率更合理）
- ✨ 9个测试点（鲁棒性和防御），曲线更平滑

---

### 场景B：批量生成所有可视化（推荐！）

```bash
# 一键生成所有图表
python visualize_all_unified.py

# 输出：每个数据集8张PNG图 + 1个TXT报告
```

**生成的图表**：
1. `*_deanonymization.png` - 去匿名化（6子图）✨
2. `*_attribute_inference.png` - 属性推断（6子图）✨
3. `*_robustness.png` - 鲁棒性（2子图）
4. `*_defense.png` - 防御效果（6子图）✨
5. `*_comprehensive.png` - 综合分析（雷达图）
6. `*_attack_heatmap.png` - 攻击热力图 🆕
7. `*_privacy_utility_tradeoff.png` - 隐私-效用权衡 🆕
8. `*_method_ranking.png` - 方法排名 🆕

**特点**：
- ⏭️ 自动跳过已存在的图表
- 📊 每张图包含4-6个子图，信息量大
- 🎨 300 DPI高分辨率
- 📈 专业配色和布局

---

### 场景C：生成交互式仪表板（演示用）

```bash
# 生成动态HTML
python visualize_interactive_dashboard.py results/unified/cora_*.json

# 在浏览器中打开
xdg-open results/figures/cora_interactive.html

# 或启动本地服务器
cd results/figures
python3 -m http.server 8000
# 访问: http://localhost:8000/cora_interactive.html
```

**仪表板功能**：
- 📊 5个页面（概览、三步骤、攻防对抗、方法对比、详细结果）
- 🎭 动画效果（节点浮动、脉冲、旋转）
- 📈 交互式图表（悬停查看数值）
- 🎨 现代化渐变UI
- 📱 响应式设计

---

## 📊 可视化升级详情

### 升级1：去匿名化图表（6子图）

```
┌──────────────┬──────────────┬──────────────┐
│ ① 准确率对比  │ ② Precision@K│ ③ MRR对比    │
│ (所有强度)   │ (曲线图)     │ (横向柱状图)  │
├──────────────┼──────────────┼──────────────┤
│ ④ 提升倍数   │ ⑤ 匿名化强度 │ ⑥ 统计信息   │
│ (对数刻度)   │ 平均性能     │ 最佳方法     │
└──────────────┴──────────────┴──────────────┘
```

### 升级2：属性推断图表（6子图）

```
┌──────────────┬──────────────┬──────────────┐
│ ① 方法对比   │ ② 准确率曲线 │ ③ 平均性能   │
│ (分隐藏比例) │ (vs隐藏比例) │ (横向柱状图)  │
├──────────────┼──────────────┼──────────────┤
│ ④ F1 Score  │ ⑤ 成功率曲线 │ ⑥ 最佳统计   │
│ (如果有)     │ (所有方法)   │ 文本信息     │
└──────────────┴──────────────┴──────────────┘
```

### 升级3：防御效果图表（6子图）

```
┌──────────────┬──────────────┬──────────────┐
│ ① 效用保持   │ ② 边保留率   │ ③ 隐私-效用  │
│ (vs ε)      │ (vs ε)      │ 散点图       │
├──────────────┼──────────────┼──────────────┤
│ ④ 边数变化   │ ⑤ 度分布MAE  │ ⑥ 推荐参数   │
│ (正负柱状图) │ (vs ε)      │ 平衡点       │
└──────────────┴──────────────┴──────────────┘
```

### 新增：攻击热力图

```
方法 ＼ 强度    温和    中等    较强
Baseline    29.1%   8.5%    3.8%
Hungarian   34.2%  11.9%    3.9%
Graph-K     ~40%   ~25%    ~15%  ← 新方法
DeepWalk     0.0%   0.0%    0.0%

颜色编码：🟢 高 → 🟡 中 → 🔴 低
```

### 新增：隐私-效用权衡

```
效用保持 ↑
100% │      ε=5.0 ●
     │            ●  ε=3.0
 80% │  ε=2.0  ●      ← 帕累托前沿
     │      ● ε=1.0
 60% │   ●  ε=0.5
     │ ● ε=0.3
   0 └──────────────────→ 隐私保护
     0%              100%
     
🎯 最佳平衡点：ε=1.0（效用80%+隐私50%）
```

### 新增：方法排名

```
去匿名化方法排名：          属性推断方法排名：
#1 █████████ Graph-K        #1 ████████ GraphSAGE
#2 ███████ Hungarian        #2 ███████ LabelProp
#3 ██████ Baseline          #3 ████ Neighbor-Vote
#4 DeepWalk (失败)
```

---

## 🛠️ 测试点优化

### 鲁棒性测试（图完整度）

**原来**：100%, 90%, 80%, 70%, 50% (5个点)

**现在**：100%, 95%, 90%, 85%, 80%, 75%, 70%, 65%, 60%, 50% (10个点) ✨

**效果**：曲线更平滑，能清晰看到衰减趋势

### 防御测试（隐私预算ε）

**原来**：0.1, 0.5, 1.0, 2.0 (4个点)

**现在**：0.1, 0.3, 0.5, 0.7, 1.0, 1.5, 2.0, 3.0, 5.0 (9个点) ✨

**效果**：隐私-效用权衡分析更精细

---

## 🎨 图表质量提升

| 特性 | 原来 | 现在 | 提升 |
|------|-----|------|-----|
| 子图数量 | 1-2个 | **4-6个** | +200% |
| 分辨率 | 150 DPI | **300 DPI** | +100% |
| 配色方案 | 基础 | **专业渐变** | 质的飞跃 |
| 数据标注 | 少量 | **完整标注** | 信息丰富 |
| 统计信息 | 无 | **文本框展示** | 一目了然 |

---

## 📂 输出文件位置

```
results/
├── unified/                          # 实验结果JSON
│   ├── cora_YYYYMMDD_HHMMSS.json
│   └── facebook_ego0_*.json
│
└── figures/                          # 可视化图表
    ├── cora_deanonymization.png     ✨ 6子图
    ├── cora_attribute_inference.png  ✨ 6子图
    ├── cora_robustness.png          ✨ 2子图
    ├── cora_defense.png             ✨ 6子图
    ├── cora_comprehensive.png       ✨ 雷达图
    ├── cora_attack_heatmap.png      🆕 热力图
    ├── cora_privacy_utility_tradeoff.png 🆕 散点图
    ├── cora_method_ranking.png      🆕 排名图
    ├── cora_report.txt              📝 文本报告
    └── cora_interactive.html        🌐 交互式仪表板
```

---

## ⚡ 快速命令

```bash
# 1. 进入项目目录
cd /home/honglianglu/hdd/Anonymous

# 2. 批量生成所有可视化（推荐！）
python visualize_all_unified.py

# 3. 查看结果
ls -lh results/figures/*.png | tail -20

# 4. 打开交互式仪表板
xdg-open results/figures/cora_interactive.html
```

---

## 🆘 常见问题

### Q1: 如何只重新生成某个数据集的图表？

```bash
# 删除该数据集的所有PNG图
rm results/figures/cora_*.png

# 重新运行
python visualize_all_unified.py
```

### Q2: 图表中文乱码怎么办？

图表使用英文标签，无中文乱码问题。如需中文，使用交互式HTML版本。

### Q3: 想要更高分辨率的图？

编辑 `visualize_unified_auto.py`，将所有 `dpi=300` 改为 `dpi=600`。

### Q4: 批量可视化很慢怎么办？

已经很快了！2个数据集生成16张图只需几秒钟。如需更快，使用 `--force` 参数只重新生成必要的图。

---

## 📚 相关文档

- **新增功能说明.md** - 详细功能介绍
- **项目全面升级完成报告.md** - 完整升级报告
- **README.md** - 项目总览
- **结果和可视化指南.md** - 原有指南

---

## ✨ 核心亮点

1. **一键批量处理** - 无需手动指定每个文件
2. **智能跳过** - 已存在的图表自动跳过
3. **8张专业图表** - 每张4-6子图，信息量大
4. **曲线更平滑** - 测试点增加到9个
5. **新攻击方法** - Graph-Kernel替代过高的Node-Features
6. **4种防御** - 从1种增加到4种
7. **交互式仪表板** - 动画+现代化UI

**现在只需一条命令，就能获得完整的专业级可视化结果！**

---

**更新时间**: 2025-12-31 23:35  
**版本**: v3.0 快速指南















