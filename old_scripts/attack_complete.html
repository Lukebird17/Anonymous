<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å›¾åŒ¿ååŒ–æ”»å‡»åŸç†æ¼”ç¤ºç³»ç»Ÿ</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Microsoft YaHei', 'Arial', sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: #333;
        }
        .container {
            max-width: 1800px;
            margin: 0 auto;
            padding: 30px;
        }
        header {
            background: white;
            padding: 30px;
            border-radius: 20px;
            margin-bottom: 30px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.2);
            text-align: center;
        }
        h1 {
            font-size: 2.5em;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
        }
        .subtitle {
            font-size: 1.2em;
            color: #666;
            margin-bottom: 20px;
        }
        
        .content-wrapper {
            display: grid;
            grid-template-columns: 3fr 1fr;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        .visualization-area {
            display: grid;
            grid-template-columns: 1fr 1fr;
            grid-template-rows: 1fr 1fr;
            gap: 20px;
        }
        
        .viz-panel {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }
        
        .viz-panel.large {
            grid-column: 1 / -1;
        }
        
        .panel-header {
            display: flex;
            align-items: center;
            gap: 15px;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 3px solid #f0f0f0;
        }
        
        .panel-icon {
            width: 50px;
            height: 50px;
            border-radius: 12px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8em;
            color: white;
            flex-shrink: 0;
        }
        
        .icon-original { background: linear-gradient(135deg, #11998e, #38ef7d); }
        .icon-anon { background: linear-gradient(135deg, #4facfe, #00f2fe); }
        .icon-attack { background: linear-gradient(135deg, #fa709a, #fee140); }
        .icon-result { background: linear-gradient(135deg, #f093fb, #f5576c); }
        
        .panel-title {
            flex: 1;
        }
        
        .panel-title h3 {
            font-size: 1.4em;
            margin-bottom: 5px;
        }
        
        .panel-title p {
            color: #999;
            font-size: 0.9em;
        }
        
        .graph-container {
            width: 100%;
            height: 400px;
            background: #fafafa;
            border-radius: 10px;
            border: 2px solid #e0e0e0;
            position: relative;
        }
        
        .viz-panel.large .graph-container {
            height: 500px;
        }
        
        .control-panel {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            display: flex;
            flex-direction: column;
            gap: 25px;
        }
        
        .control-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 12px;
        }
        
        .control-section h4 {
            font-size: 1.2em;
            margin-bottom: 15px;
            color: #333;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .btn {
            width: 100%;
            padding: 15px;
            border: none;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s;
            color: white;
            margin-bottom: 10px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }
        
        .btn:hover:not(:disabled) {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.3);
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        .btn-start { background: linear-gradient(135deg, #667eea, #764ba2); }
        .btn-next { background: linear-gradient(135deg, #f093fb, #f5576c); }
        .btn-auto { background: linear-gradient(135deg, #4facfe, #00f2fe); }
        .btn-reset { background: linear-gradient(135deg, #fa709a, #fee140); }
        
        .stage-list {
            list-style: none;
        }
        
        .stage-item {
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 10px;
            background: white;
            border-left: 5px solid #ddd;
            transition: all 0.3s;
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .stage-item.active {
            border-left-color: #667eea;
            background: linear-gradient(90deg, #e8eaf6 0%, #fff 100%);
            font-weight: 600;
            box-shadow: 0 3px 10px rgba(102, 126, 234, 0.2);
        }
        
        .stage-item.completed {
            border-left-color: #4CAF50;
            opacity: 0.7;
        }
        
        .stage-number {
            width: 35px;
            height: 35px;
            border-radius: 50%;
            background: #ddd;
            color: #666;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            flex-shrink: 0;
        }
        
        .stage-item.active .stage-number {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            animation: pulse 1.5s infinite;
        }
        
        .stage-item.completed .stage-number {
            background: #4CAF50;
            color: white;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 12px;
        }
        
        .stat-item {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            border: 2px solid #f0f0f0;
        }
        
        .stat-value {
            font-size: 2.5em;
            font-weight: bold;
            background: linear-gradient(135deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 5px;
        }
        
        .stat-label {
            color: #999;
            font-size: 0.9em;
        }
        
        .message-box {
            padding: 20px;
            border-radius: 10px;
            font-size: 1em;
            line-height: 1.8;
            display: none;
            animation: slideDown 0.3s;
        }
        
        .message-box.show { display: block; }
        .message-box.info {
            background: linear-gradient(135deg, #e3f2fd, #bbdefb);
            color: #0d47a1;
            border-left: 5px solid #2196F3;
        }
        .message-box.success {
            background: linear-gradient(135deg, #e8f5e9, #c8e6c9);
            color: #1b5e20;
            border-left: 5px solid #4CAF50;
        }
        .message-box.warning {
            background: linear-gradient(135deg, #fff3e0, #ffe0b2);
            color: #e65100;
            border-left: 5px solid #ff9800;
        }
        
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* D3 æ ·å¼ */
        .link {
            stroke: #999;
            stroke-opacity: 0.6;
            stroke-width: 2px;
        }
        
        .link.highlighted {
            stroke: #ff9800;
            stroke-width: 4px;
            stroke-opacity: 1;
            animation: linkPulse 1s infinite;
        }
        
        @keyframes linkPulse {
            0%, 100% { stroke-opacity: 0.6; }
            50% { stroke-opacity: 1; }
        }
        
        .node circle {
            stroke: #fff;
            stroke-width: 3px;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .node:hover circle {
            stroke-width: 5px;
        }
        
        .node.seed circle {
            stroke: #ff5722;
            stroke-width: 5px;
            filter: drop-shadow(0 0 10px #ff5722);
            animation: glow 1.5s infinite;
        }
        
        .node.matched circle {
            stroke: #4CAF50;
            stroke-width: 5px;
            filter: drop-shadow(0 0 10px #4CAF50);
        }
        
        .node.highlighted circle {
            stroke: #ffc107;
            stroke-width: 5px;
            filter: drop-shadow(0 0 10px #ffc107);
        }
        
        @keyframes glow {
            0%, 100% { filter: drop-shadow(0 0 5px #ff5722); }
            50% { filter: drop-shadow(0 0 15px #ff5722); }
        }
        
        .node text {
            font-size: 12px;
            font-weight: bold;
            pointer-events: none;
            fill: #333;
            text-shadow: 1px 1px 2px white;
        }
        
        .legend {
            position: absolute;
            top: 20px;
            right: 20px;
            background: rgba(255,255,255,0.95);
            padding: 15px;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
            font-size: 0.9em;
        }
        
        .legend-circle {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            flex-shrink: 0;
        }
        
        .explanation-panel {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            margin-top: 30px;
        }
        
        .explanation-panel h2 {
            font-size: 2em;
            margin-bottom: 20px;
            color: #667eea;
        }
        
        .attack-steps {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .step-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            padding: 25px;
            border-radius: 15px;
            border-left: 5px solid #667eea;
        }
        
        .step-card h4 {
            font-size: 1.3em;
            margin-bottom: 10px;
            color: #667eea;
        }
        
        .step-card p {
            line-height: 1.8;
            color: #555;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>ğŸ” å›¾åŒ¿ååŒ–æ”»å‡»åŸç†æ¼”ç¤ºç³»ç»Ÿ</h1>
            <p class="subtitle">äº¤äº’å¼å±•ç¤ºç¤¾äº¤ç½‘ç»œå›¾çš„åŒ¿ååŒ–è¿‡ç¨‹åŠå»åŒ¿ååŒ–æ”»å‡»æŠ€æœ¯</p>
            <div style="display: flex; gap: 15px; justify-content: center; margin-top: 15px;">
                <span style="padding: 8px 15px; background: #e3f2fd; border-radius: 20px; color: #1976d2;">
                    ğŸ“Š èŠ‚ç‚¹æ•°: <strong id="total-nodes">0</strong>
                </span>
                <span style="padding: 8px 15px; background: #f3e5f5; border-radius: 20px; color: #7b1fa2;">
                    ğŸ”— è¾¹æ•°: <strong id="total-edges">0</strong>
                </span>
                <span style="padding: 8px 15px; background: #e8f5e9; border-radius: 20px; color: #388e3c;">
                    âœ… åŒ¹é…ç‡: <strong id="match-rate">0%</strong>
                </span>
            </div>
        </header>
        
        <div class="content-wrapper">
            <div class="visualization-area">
                <div class="viz-panel">
                    <div class="panel-header">
                        <div class="panel-icon icon-original">ğŸŒ</div>
                        <div class="panel-title">
                            <h3>åŸå§‹ç¤¾äº¤ç½‘ç»œå›¾</h3>
                            <p>çœŸå®çš„ç¤¾äº¤ç½‘ç»œç»“æ„</p>
                        </div>
                    </div>
                    <div class="graph-container" id="graph-original"></div>
                </div>
                
                <div class="viz-panel">
                    <div class="panel-header">
                        <div class="panel-icon icon-anon">ğŸ”’</div>
                        <div class="panel-title">
                            <h3>åŒ¿ååŒ–åçš„å›¾</h3>
                            <p>èŠ‚ç‚¹IDè¢«æ‰“ä¹±ï¼Œéšç§ä¿æŠ¤</p>
                        </div>
                    </div>
                    <div class="graph-container" id="graph-anonymized"></div>
                </div>
                
                <div class="viz-panel large">
                    <div class="panel-header">
                        <div class="panel-icon icon-attack">âš¡</div>
                        <div class="panel-title">
                            <h3>æ”»å‡»è¿‡ç¨‹å®æ—¶æ¼”ç¤º</h3>
                            <p>è§‚å¯Ÿæ”»å‡»è€…å¦‚ä½•é€æ­¥è¯†åˆ«åŒ¿åèŠ‚ç‚¹</p>
                        </div>
                    </div>
                    <div class="graph-container" id="graph-attack">
                        <div class="legend">
                            <div class="legend-item">
                                <div class="legend-circle" style="background: #666; border: 3px solid #fff;"></div>
                                <span>æœªåŒ¹é…èŠ‚ç‚¹</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-circle" style="background: #ff5722; border: 3px solid #fff;"></div>
                                <span>ç§å­èŠ‚ç‚¹</span>
                            </div>
                            <div class="legend-item">
                                <div class="legend-circle" style="background: #4CAF50; border: 3px solid #fff;"></div>
                                <span>å·²åŒ¹é…èŠ‚ç‚¹</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="control-panel">
                <div class="control-section">
                    <h4>âš™ï¸ æ§åˆ¶é¢æ¿</h4>
                    <button class="btn btn-start" id="btn-start">â–¶ï¸ å¼€å§‹æ¼”ç¤º</button>
                    <button class="btn btn-next" id="btn-next" disabled>â­ï¸ ä¸‹ä¸€æ­¥</button>
                    <button class="btn btn-auto" id="btn-auto" disabled>ğŸ¬ è‡ªåŠ¨æ’­æ”¾</button>
                    <button class="btn btn-reset" id="btn-reset">ğŸ”„ é‡ç½®</button>
                </div>
                
                <div class="control-section">
                    <h4>ğŸ“‹ æ”»å‡»è¿›åº¦</h4>
                    <ul class="stage-list">
                        <li class="stage-item" data-stage="0">
                            <div class="stage-number">1</div>
                            <span>åˆå§‹åŒ–å›¾ç»“æ„</span>
                        </li>
                        <li class="stage-item" data-stage="1">
                            <div class="stage-number">2</div>
                            <span>è¯†åˆ«ç§å­èŠ‚ç‚¹</span>
                        </li>
                        <li class="stage-item" data-stage="2">
                            <div class="stage-number">3</div>
                            <span>ç»“æ„æŒ‡çº¹åŒ¹é…</span>
                        </li>
                        <li class="stage-item" data-stage="3">
                            <div class="stage-number">4</div>
                            <span>ä¼ æ’­å¼æ”»å‡»</span>
                        </li>
                        <li class="stage-item" data-stage="4">
                            <div class="stage-number">5</div>
                            <span>å±æ€§æ¨æ–­</span>
                        </li>
                        <li class="stage-item" data-stage="5">
                            <div class="stage-number">6</div>
                            <span>æ”»å‡»å®Œæˆ</span>
                        </li>
                    </ul>
                </div>
                
                <div class="control-section">
                    <h4>ğŸ“Š å®æ—¶ç»Ÿè®¡</h4>
                    <div class="stats-grid">
                        <div class="stat-item">
                            <div class="stat-value" id="stat-seeds">0</div>
                            <div class="stat-label">ç§å­èŠ‚ç‚¹</div>
                        </div>
                        <div class="stat-item">
                            <div class="stat-value" id="stat-matched">0</div>
                            <div class="stat-label">å·²åŒ¹é…</div>
                        </div>
                    </div>
                </div>
                
                <div class="message-box" id="message-box"></div>
            </div>
        </div>
        
        <div class="explanation-panel">
            <h2>ğŸ“ æ”»å‡»åŸç†è¯¦è§£</h2>
            <div class="attack-steps">
                <div class="step-card">
                    <h4>1ï¸âƒ£ ç§å­èŠ‚ç‚¹è¯†åˆ«</h4>
                    <p>æ”»å‡»è€…é€šè¿‡ç»“æ„ç‰¹å¾ï¼ˆå¦‚åº¦æ•°ã€ä¸‰è§’å½¢æ•°é‡ï¼‰è¯†åˆ«ç‹¬ç‰¹çš„èŠ‚ç‚¹ä½œä¸º"ç§å­"ï¼Œè¿™äº›èŠ‚ç‚¹åœ¨åŸå›¾å’ŒåŒ¿åå›¾ä¸­éƒ½æœ‰æ˜æ˜¾ç‰¹å¾ã€‚</p>
                </div>
                <div class="step-card">
                    <h4>2ï¸âƒ£ ç»“æ„æŒ‡çº¹</h4>
                    <p>åˆ©ç”¨å›¾æ ¸æ–¹æ³•ã€å­å›¾æ¨¡å¼ç­‰æŠ€æœ¯ä¸ºæ¯ä¸ªèŠ‚ç‚¹ç”Ÿæˆ"ç»“æ„æŒ‡çº¹"ï¼Œé€šè¿‡åŒ¹é…æŒ‡çº¹ç›¸ä¼¼åº¦æ‰¾åˆ°å¯¹åº”å…³ç³»ã€‚</p>
                </div>
                <div class="step-card">
                    <h4>3ï¸âƒ£ ä¼ æ’­æ”»å‡»</h4>
                    <p>ä»å·²çŸ¥èŠ‚ç‚¹å‡ºå‘ï¼Œåˆ©ç”¨é‚»å±…å…³ç³»é€æ­¥æ¨æ–­æ›´å¤šèŠ‚ç‚¹çš„èº«ä»½ï¼Œå½¢æˆ"æ»šé›ªçƒ"æ•ˆåº”ã€‚</p>
                </div>
                <div class="step-card">
                    <h4>4ï¸âƒ£ å±æ€§æ¨æ–­</h4>
                    <p>ä¸€æ—¦èŠ‚ç‚¹è¢«å»åŒ¿ååŒ–ï¼Œæ”»å‡»è€…å¯ä»¥æ¨æ–­å…¶æ•æ„Ÿå±æ€§ï¼ˆå¹´é¾„ã€å…´è¶£ç­‰ï¼‰ï¼Œé€ æˆéšç§æ³„éœ²ã€‚</p>
                </div>
            </div>
        </div>
    </div>

    <script>
        const DATA = {"graph_orig": {"nodes": [{"id": "0", "index": 0, "degree": 14}, {"id": "1", "index": 1, "degree": 7}, {"id": "2", "index": 2, "degree": 7}, {"id": "3", "index": 3, "degree": 6}, {"id": "4", "index": 4, "degree": 3}, {"id": "5", "index": 5, "degree": 4}, {"id": "6", "index": 6, "degree": 4}, {"id": "7", "index": 7, "degree": 4}, {"id": "8", "index": 8, "degree": 2}, {"id": "9", "index": 9, "degree": 1}, {"id": "10", "index": 10, "degree": 3}, {"id": "11", "index": 11, "degree": 1}, {"id": "12", "index": 12, "degree": 2}, {"id": "13", "index": 13, "degree": 4}, {"id": "14", "index": 14, "degree": 0}, {"id": "15", "index": 15, "degree": 0}, {"id": "16", "index": 16, "degree": 2}, {"id": "17", "index": 17, "degree": 2}, {"id": "18", "index": 18, "degree": 0}, {"id": "19", "index": 19, "degree": 2}], "links": [{"source": 0, "target": 1}, {"source": 0, "target": 2}, {"source": 0, "target": 3}, {"source": 0, "target": 4}, {"source": 0, "target": 5}, {"source": 0, "target": 6}, {"source": 0, "target": 7}, {"source": 0, "target": 8}, {"source": 0, "target": 10}, {"source": 0, "target": 11}, {"source": 0, "target": 12}, {"source": 0, "target": 13}, {"source": 0, "target": 17}, {"source": 0, "target": 19}, {"source": 1, "target": 2}, {"source": 1, "target": 3}, {"source": 1, "target": 7}, {"source": 1, "target": 13}, {"source": 1, "target": 17}, {"source": 1, "target": 19}, {"source": 2, "target": 3}, {"source": 2, "target": 7}, {"source": 2, "target": 8}, {"source": 2, "target": 9}, {"source": 2, "target": 13}, {"source": 3, "target": 7}, {"source": 3, "target": 12}, {"source": 3, "target": 13}, {"source": 4, "target": 6}, {"source": 4, "target": 10}, {"source": 5, "target": 6}, {"source": 5, "target": 10}, {"source": 5, "target": 16}, {"source": 6, "target": 16}]}, "graph_anon": {"nodes": [{"id": "0", "index": 0, "degree": 13}, {"id": "1", "index": 1, "degree": 5}, {"id": "2", "index": 2, "degree": 6}, {"id": "3", "index": 3, "degree": 3}, {"id": "4", "index": 4, "degree": 3}, {"id": "5", "index": 5, "degree": 5}, {"id": "6", "index": 6, "degree": 4}, {"id": "7", "index": 7, "degree": 4}, {"id": "8", "index": 8, "degree": 2}, {"id": "9", "index": 9, "degree": 2}, {"id": "10", "index": 10, "degree": 2}, {"id": "11", "index": 11, "degree": 1}, {"id": "12", "index": 12, "degree": 1}, {"id": "13", "index": 13, "degree": 2}, {"id": "14", "index": 14, "degree": 0}, {"id": "15", "index": 15, "degree": 0}, {"id": "16", "index": 16, "degree": 2}, {"id": "17", "index": 17, "degree": 2}, {"id": "18", "index": 18, "degree": 2}, {"id": "19", "index": 19, "degree": 1}], "links": [{"source": 0, "target": 1}, {"source": 0, "target": 2}, {"source": 0, "target": 3}, {"source": 0, "target": 4}, {"source": 0, "target": 5}, {"source": 0, "target": 6}, {"source": 0, "target": 7}, {"source": 0, "target": 8}, {"source": 0, "target": 11}, {"source": 0, "target": 12}, {"source": 0, "target": 13}, {"source": 0, "target": 17}, {"source": 0, "target": 19}, {"source": 1, "target": 2}, {"source": 1, "target": 7}, {"source": 1, "target": 13}, {"source": 1, "target": 17}, {"source": 2, "target": 3}, {"source": 2, "target": 7}, {"source": 2, "target": 8}, {"source": 2, "target": 9}, {"source": 3, "target": 7}, {"source": 4, "target": 6}, {"source": 4, "target": 10}, {"source": 5, "target": 6}, {"source": 5, "target": 10}, {"source": 5, "target": 16}, {"source": 5, "target": 18}, {"source": 6, "target": 16}, {"source": 9, "target": 18}]}, "stage1": {"greedy": {"similarity_matrix": [[0.993249936714606, 0.9858406632773244, 0.9984945109742884, 0.9569602098521774, 0.9372956930587908, 0.9414173469595872, 0.9893942171307589, 0.977885242641057, 0.8478725010343221, 0.9416675629129029], [0.982477659489902, 0.9782798651934171, 0.9965455914124021, 0.9686185328499368, 0.9189476916919677, 0.9189884477769799, 0.9860117005077317, 0.9789872011018338, 0.8508572915936493, 0.9169786467001848], [0.9828193580960252, 0.9780708017403562, 0.9965591090582103, 0.9671329484355805, 0.9186342341566156, 0.9191147343143629, 0.9856635405553772, 0.9781511491828505, 0.8484143083013097, 0.9173535321291132], [0.9682226756897591, 0.9651030589028334, 0.9893745791541053, 0.9690704707249036, 0.8955199552283392, 0.8932841213157046, 0.9762423611946632, 0.9717405062079745, 0.8403049859594336, 0.8900427175748663], [0.953228634487395, 0.9738312681997474, 0.9379382422257562, 0.9484014132339016, 0.9941724026139998, 0.9840773312783458, 0.9662682543094893, 0.9712460378263313, 0.9701425001312143, 0.9761870601680704], [0.9936740862522563, 0.9986187838664825, 0.9954280845028023, 0.9800379116577328, 0.9704907236003738, 0.967128864946869, 0.999999999994203, 0.9969009837691739, 0.9152492334890263, 0.9630868246745594], [0.9936740862522563, 0.9986187838664825, 0.9954280845028023, 0.9800379116577328, 0.9704907236003738, 0.967128864946869, 0.999999999994203, 0.9969009837691739, 0.9152492334890263, 0.9630868246745594], [0.9507081437492986, 0.9583148474958283, 0.9779391679032935, 0.98692754243316, 0.8916309815105319, 0.8808958415377197, 0.9720028343564506, 0.97701015987457, 0.8783100656451085, 0.8728715609344457], [0.8757789918899856, 0.9165151389831679, 0.8750640272471616, 0.9438798074358117, 0.9383431168032077, 0.911586756880885, 0.9152492334890263, 0.9391201333083085, 0.9999999999799998, 0.8944271909799159], [0.9743462110656865, 0.9759000729294856, 0.9467916046317646, 0.9045340337060181, 0.9938837346406921, 0.9992009587018214, 0.9630868246629652, 0.9509146220777869, 0.8944271909599159, 0.99999999995]], "nodes_orig": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "nodes_anon": [0, 1, 2, 3, 4, 5, 6, 7, 8, 9], "steps": [{"step": 1, "orig_node": 5, "anon_node": 6, "similarity": 0.999999999994203, "is_correct": false}, {"step": 2, "orig_node": 8, "anon_node": 8, "similarity": 0.9999999999799998, "is_correct": true}, {"step": 3, "orig_node": 9, "anon_node": 9, "similarity": 0.99999999995, "is_correct": true}, {"step": 4, "orig_node": 6, "anon_node": 1, "similarity": 0.9986187838664825, "is_correct": false}, {"step": 5, "orig_node": 0, "anon_node": 2, "similarity": 0.9984945109742884, "is_correct": false}, {"step": 6, "orig_node": 4, "anon_node": 4, "similarity": 0.9941724026139998, "is_correct": true}, {"step": 7, "orig_node": 7, "anon_node": 3, "similarity": 0.98692754243316, "is_correct": false}, {"step": 8, "orig_node": 2, "anon_node": 0, "similarity": 0.9828193580960252, "is_correct": false}, {"step": 9, "orig_node": 1, "anon_node": 7, "similarity": 0.9789872011018338, "is_correct": false}, {"step": 10, "orig_node": 3, "anon_node": 5, "similarity": 0.8932841213157046, "is_correct": false}]}, "hungarian": {"cost_matrix_initial": [[-0.999993939953772, -0.9962762548213948, -0.9985838757112171, -0.9528181536321219, -0.9952687074419835, -0.999645291246645, -0.9938444947534438, -0.9816145565511837, -0.9003145692754835, -0.9999109833971213], [-0.9978993287676313, -0.9996880678800396, -0.999967012147536, -0.9696356435123576, -0.9993532754300286, -0.9993975975688807, -0.9987669838229662, -0.9914702994980994, -0.9253051386547769, -0.9972119440136978], [-0.9983149364062948, -0.999496135272805, -0.9999990827967657, -0.9679582652528465, -0.9990870135234813, -0.999609595253935, -0.9984081129603891, -0.9905654837200846, -0.9227173188134428, -0.9976941492947459], [-0.9949244221120861, -0.9999396262833636, -0.9990282349348102, -0.9778024140722876, -0.9999999999945125, -0.9975033120096546, -0.999906186965055, -0.9955156952681675, -0.9383431168101589, -0.9938837346653873], [-0.9782788423800527, -0.9929278168002443, -0.9884549593444419, -0.9946917938163158, -0.9941724026139998, -0.9840773312783458, -0.9955557351065063, -0.9999119076319205, -0.9701425001312143, -0.9761870601680704], [-0.9934527896436989, -0.9996953077271755, -0.9983308056657024, -0.9805806756832278, -0.999906186960946, -0.9964424307544324, -0.9999999999938465, -0.9967180240125566, -0.942990333572428, -0.99227787670136], [-0.9934527896436989, -0.9996953077271755, -0.9983308056657024, -0.9805806756832278, -0.999906186960946, -0.9964424307544324, -0.9999999999938465, -0.9967180240125566, -0.942990333572428, -0.99227787670136], [-0.9724870804239925, -0.989461064129327, -0.984127017441128, -0.9970544854939345, -0.9909924304023607, -0.9790609893996437, -0.9927337820277355, -0.9992166844915087, -0.9761870601733645, -0.9701425001335672], [-0.898793875225549, -0.9344877349206513, -0.9221943818216725, -0.9899494936471663, -0.9383431168032077, -0.911586756880885, -0.942990333572428, -0.9668378221581824, -0.9999999999799998, -0.8944271909799159], [-0.9999513746785248, -0.9950371901901872, -0.9977851578400161, -0.9486832980205138, -0.9938837346406921, -0.9992009587018214, -0.9922778766890523, -0.978980419713645, -0.8944271909599159, -0.99999999995]], "steps": [{"step": 1, "name": "\u521d\u59cb\u6210\u672c\u77e9\u9635", "description": "\u5c06\u76f8\u4f3c\u5ea6\u8f6c\u6362\u4e3a\u6210\u672c\uff08\u53d6\u8d1f\uff09", "matrix": [[-0.999993939953772, -0.9962762548213948, -0.9985838757112171, -0.9528181536321219, -0.9952687074419835, -0.999645291246645, -0.9938444947534438, -0.9816145565511837, -0.9003145692754835, -0.9999109833971213], [-0.9978993287676313, -0.9996880678800396, -0.999967012147536, -0.9696356435123576, -0.9993532754300286, -0.9993975975688807, -0.9987669838229662, -0.9914702994980994, -0.9253051386547769, -0.9972119440136978], [-0.9983149364062948, -0.999496135272805, -0.9999990827967657, -0.9679582652528465, -0.9990870135234813, -0.999609595253935, -0.9984081129603891, -0.9905654837200846, -0.9227173188134428, -0.9976941492947459], [-0.9949244221120861, -0.9999396262833636, -0.9990282349348102, -0.9778024140722876, -0.9999999999945125, -0.9975033120096546, -0.999906186965055, -0.9955156952681675, -0.9383431168101589, -0.9938837346653873], [-0.9782788423800527, -0.9929278168002443, -0.9884549593444419, -0.9946917938163158, -0.9941724026139998, -0.9840773312783458, -0.9955557351065063, -0.9999119076319205, -0.9701425001312143, -0.9761870601680704], [-0.9934527896436989, -0.9996953077271755, -0.9983308056657024, -0.9805806756832278, -0.999906186960946, -0.9964424307544324, -0.9999999999938465, -0.9967180240125566, -0.942990333572428, -0.99227787670136], [-0.9934527896436989, -0.9996953077271755, -0.9983308056657024, -0.9805806756832278, -0.999906186960946, -0.9964424307544324, -0.9999999999938465, -0.9967180240125566, -0.942990333572428, -0.99227787670136], [-0.9724870804239925, -0.989461064129327, -0.984127017441128, -0.9970544854939345, -0.9909924304023607, -0.9790609893996437, -0.9927337820277355, -0.9992166844915087, -0.9761870601733645, -0.9701425001335672], [-0.898793875225549, -0.9344877349206513, -0.9221943818216725, -0.9899494936471663, -0.9383431168032077, -0.911586756880885, -0.942990333572428, -0.9668378221581824, -0.9999999999799998, -0.8944271909799159], [-0.9999513746785248, -0.9950371901901872, -0.9977851578400161, -0.9486832980205138, -0.9938837346406921, -0.9992009587018214, -0.9922778766890523, -0.978980419713645, -0.8944271909599159, -0.99999999995]]}, {"step": 2, "name": "\u884c\u5f52\u7ea6", "description": "\u6bcf\u884c\u51cf\u53bb\u8be5\u884c\u6700\u5c0f\u503c", "matrix": [[0.0, 0.0037176851323771354, 0.0014100642425548537, 0.04717578632165009, 0.004725232511788469, 0.00034864870712691953, 0.006149445200328119, 0.018379383402588267, 0.09967937067828847, 8.29565566506929e-05], [0.0020676833799047056, 0.0002789442674964171, 0.0, 0.03033136863517838, 0.0006137367175074182, 0.0005694145786553362, 0.0012000283245697796, 0.008496712649436633, 0.0746618734927591, 0.00275506813383819], [0.0016841463904709864, 0.0005029475239607395, 0.0, 0.0320408175439193, 0.000912069273284466, 0.0003894875428307465, 0.0015909698363766323, 0.009433599076681176, 0.07728176398332298, 0.002304933502019879], [0.0050755778824264075, 6.037371114886447e-05, 0.000971765059702312, 0.02219758592222487, 0.0, 0.002496687984857915, 9.381302945754566e-05, 0.004484304726344979, 0.061656883184353584, 0.006116265329125237], [0.02163306525186781, 0.006984090831676171, 0.011456948287478563, 0.005220113815604721, 0.005739505017920754, 0.01583457635357466, 0.004356172525414204, 0.0, 0.029769407500706224, 0.023724847463850063], [0.006547210350147603, 0.0003046922666709584, 0.0016691943281440524, 0.019419324310618657, 9.381303290045828e-05, 0.0035575692394140823, 0.0, 0.0032819759812898752, 0.05700966642141847, 0.007722123292486449], [0.006547210350147603, 0.0003046922666709584, 0.0016691943281440524, 0.019419324310618657, 9.381303290045828e-05, 0.0035575692394140823, 0.0, 0.0032819759812898752, 0.05700966642141847, 0.007722123292486449], [0.026729604067516233, 0.009755620362181694, 0.015089667050380728, 0.002162198997574194, 0.008224254089147953, 0.02015569509186499, 0.006482902463773144, 0.0, 0.02302962431814415, 0.029074184357941513], [0.10120612475445079, 0.06551226505934848, 0.07780561815832732, 0.010050506332833442, 0.06165688317679208, 0.0884132430991148, 0.05700966640757177, 0.03316217782181741, 0.0, 0.10557280900008392], [4.8625271475200016e-05, 0.004962809759812781, 0.0022148421099839055, 0.05131670192948623, 0.006116265309307867, 0.0007990412481786446, 0.0077221232609476775, 0.021019580236354973, 0.10557280899008414, 0.0]]}, {"step": 3, "name": "\u5217\u5f52\u7ea6", "description": "\u6bcf\u5217\u51cf\u53bb\u8be5\u5217\u6700\u5c0f\u503c", "matrix": [[0.0, 0.003657311421228271, 0.0014100642425548537, 0.0450135873240759, 0.004725232511788469, 0.0, 0.006149445200328119, 0.018379383402588267, 0.09967937067828847, 8.29565566506929e-05], [0.0020676833799047056, 0.00021857055634755262, 0.0, 0.028169169637604186, 0.0006137367175074182, 0.00022076587152841665, 0.0012000283245697796, 0.008496712649436633, 0.0746618734927591, 0.00275506813383819], [0.0016841463904709864, 0.000442573812811875, 0.0, 0.029878618546345104, 0.000912069273284466, 4.083883570382696e-05, 0.0015909698363766323, 0.009433599076681176, 0.07728176398332298, 0.002304933502019879], [0.0050755778824264075, 0.0, 0.000971765059702312, 0.020035386924650678, 0.0, 0.0021480392777309953, 9.381302945754566e-05, 0.004484304726344979, 0.061656883184353584, 0.006116265329125237], [0.02163306525186781, 0.006923717120527306, 0.011456948287478563, 0.003057914818030527, 0.005739505017920754, 0.015485927646447739, 0.004356172525414204, 0.0, 0.029769407500706224, 0.023724847463850063], [0.006547210350147603, 0.0002443185555220939, 0.0016691943281440524, 0.017257125313044464, 9.381303290045828e-05, 0.003208920532287163, 0.0, 0.0032819759812898752, 0.05700966642141847, 0.007722123292486449], [0.006547210350147603, 0.0002443185555220939, 0.0016691943281440524, 0.017257125313044464, 9.381303290045828e-05, 0.003208920532287163, 0.0, 0.0032819759812898752, 0.05700966642141847, 0.007722123292486449], [0.026729604067516233, 0.00969524665103283, 0.015089667050380728, 0.0, 0.008224254089147953, 0.01980704638473807, 0.006482902463773144, 0.0, 0.02302962431814415, 0.029074184357941513], [0.10120612475445079, 0.06545189134819962, 0.07780561815832732, 0.007888307335259248, 0.06165688317679208, 0.08806459439198788, 0.05700966640757177, 0.03316217782181741, 0.0, 0.10557280900008392], [4.8625271475200016e-05, 0.004902436048663916, 0.0022148421099839055, 0.049154502931912036, 0.006116265309307867, 0.0004503925410517251, 0.0077221232609476775, 0.021019580236354973, 0.10557280899008414, 0.0]]}], "final_matching": {"0": {"matched_node": 0, "similarity": 0.999993939953772, "is_correct": true}, "1": {"matched_node": 2, "similarity": 0.999967012147536, "is_correct": false}, "2": {"matched_node": 5, "similarity": 0.999609595253935, "is_correct": false}, "3": {"matched_node": 1, "similarity": 0.9999396262833636, "is_correct": false}, "4": {"matched_node": 7, "similarity": 0.9999119076319205, "is_correct": false}, "5": {"matched_node": 6, "similarity": 0.9999999999938465, "is_correct": false}, "6": {"matched_node": 4, "similarity": 0.999906186960946, "is_correct": false}, "7": {"matched_node": 3, "similarity": 0.9970544854939345, "is_correct": false}, "8": {"matched_node": 8, "similarity": 0.9999999999799998, "is_correct": true}, "9": {"matched_node": 9, "similarity": 0.99999999995, "is_correct": true}}}, "graph_kernel": {"subgraph_examples": [{"node": 0, "1hop_neighbors": [1, 2, 3, 4, 5], "1hop_edges": [[0, 1], [0, 2], [0, 3], [0, 4], [0, 5], [0, 6], [0, 7], [0, 8], [0, 10], [0, 11]]}, {"node": 1, "1hop_neighbors": [0, 2, 3, 7, 13], "1hop_edges": [[1, 0], [1, 2], [1, 3], [1, 7], [1, 13], [1, 17], [1, 19]]}, {"node": 2, "1hop_neighbors": [0, 1, 3, 7, 8], "1hop_edges": [[2, 0], [2, 1], [2, 3], [2, 7], [2, 8], [2, 9], [2, 13]]}], "wl_iterations": [{"iteration": 0, "description": "\u521d\u59cb\u5316\uff1a\u6807\u7b7e = \u8282\u70b9\u5ea6\u6570", "labels": {"0": 14, "1": 7, "2": 7, "3": 6, "4": 3, "5": 4, "6": 4, "7": 4, "8": 2, "9": 1}}, {"iteration": 1, "description": "\u8fed\u4ee31\uff1a\u805a\u5408\u90bb\u5c45\u6807\u7b7e", "labels": {"0": 1932, "1": 4254, "2": 1367, "3": 475, "4": 9329, "5": 1567, "6": 1567, "7": 4595, "8": 4760, "9": 4931}}, {"iteration": 2, "description": "\u8fed\u4ee32\uff1a\u805a\u5408\u90bb\u5c45\u6807\u7b7e", "labels": {"0": 7013, "1": 1838, "2": 4074, "3": 5074, "4": 8284, "5": 8415, "6": 8415, "7": 3377, "8": 6585, "9": 9777}}, {"iteration": 3, "description": "\u8fed\u4ee33\uff1a\u805a\u5408\u90bb\u5c45\u6807\u7b7e", "labels": {"0": 4890, "1": 2414, "2": 9419, "3": 8724, "4": 6269, "5": 9981, "6": 9981, "7": 8720, "8": 4680, "9": 3111}}]}, "deepwalk": {"random_walks": [{"start_node": 0, "walks": [{"path": [0, 13, 3, 7, 0, 10, 0, 17, 0, 10, 5]}, {"path": [0, 10, 0, 13, 3, 2, 3, 0, 8, 0, 3]}, {"path": [0, 1, 3, 12, 3, 1, 0, 13, 2, 0, 8]}]}, {"start_node": 1, "walks": [{"path": [1, 7, 1, 0, 7, 2, 9, 2, 8, 0, 13]}, {"path": [1, 17, 0, 3, 0, 3, 12, 0, 19, 0, 1]}, {"path": [1, 13, 1, 19, 0, 19, 0, 12, 0, 11, 0]}]}, {"start_node": 2, "walks": [{"path": [2, 1, 7, 0, 3, 0, 4, 0, 4, 6, 0]}, {"path": [2, 13, 2, 8, 0, 12, 0, 4, 0, 7, 2]}, {"path": [2, 3, 13, 3, 1, 2, 8, 2, 0, 5, 6]}]}, {"start_node": 3, "walks": [{"path": [3, 7, 3, 7, 3, 7, 1, 17, 0, 11, 0]}, {"path": [3, 7, 0, 7, 1, 0, 1, 0, 12, 3, 0]}, {"path": [3, 7, 0, 10, 5, 10, 4, 10, 0, 19, 0]}]}, {"start_node": 4, "walks": [{"path": [4, 0, 3, 1, 7, 3, 2, 9, 2, 0, 4]}, {"path": [4, 0, 19, 0, 11, 0, 4, 6, 5, 6, 5]}, {"path": [4, 0, 5, 0, 8, 0, 12, 0, 2, 1, 7]}]}], "embedding_2d": {"0": {"x": 13.903819517609438, "y": 2.0189055392986743}, "1": {"x": 6.982644115147378, "y": 4.653756219285472}, "2": {"x": 7.571411407257511, "y": 5.137871278248149}, "3": {"x": 6.3955159735215235, "y": 6.211972939269296}, "4": {"x": 3.7013971554680496, "y": 5.965741135270526}, "5": {"x": 4.293428546900135, "y": 6.095227812904989}, "6": {"x": 3.504731837434656, "y": 4.716851135198614}, "7": {"x": 4.049825682543821, "y": 9.748262172941901}, "8": {"x": 1.2246682844669337, "y": 10.034281487403014}, "9": {"x": 0.46884814313694756, "y": 0.2367962153175908}, "10": {"x": 2.5402878828830984, "y": 7.441633869175436}, "11": {"x": 0.6083733538318814, "y": -0.1610307581028378}, "12": {"x": 2.406758608684835, "y": 9.384567841783023}, "13": {"x": 4.113729967302064, "y": 10.653571377141214}, "14": {"x": -0.8037416172806138, "y": 0.0923169292661521}, "15": {"x": 0.12994139712421177, "y": 0.3909114358886552}, "16": {"x": 1.381524644560959, "y": 9.339771693457863}, "17": {"x": 2.2609707828084487, "y": 10.148492336616593}, "18": {"x": 0.12524642517293827, "y": 0.17322410474848784}, "19": {"x": 1.6599876392107547, "y": 10.116126848580501}, "anon_0": {"x": 13.146536236649341, "y": 0.924875573038098}, "anon_1": {"x": 5.932887255572378, "y": 5.236916460455894}, "anon_2": {"x": 5.404348251398676, "y": 4.328276804316915}, "anon_3": {"x": 2.5126591648863394, "y": 10.393542301871227}, "anon_4": {"x": 3.579297789503702, "y": 2.9229921741574776}, "anon_5": {"x": 5.481688064622161, "y": 2.206390463468249}, "anon_6": {"x": 4.411030079997245, "y": 5.948396491326974}, "anon_7": {"x": 3.8773059419985647, "y": 7.956465251154589}, "anon_8": {"x": 1.5552427851872384, "y": 9.592094857517282}, "anon_9": {"x": 1.961449145292948, "y": 0.17057598740832194}, "anon_10": {"x": 2.1383453996650097, "y": 0.4135916245180119}, "anon_11": {"x": 1.0065009459389536, "y": 0.7267670385786584}, "anon_12": {"x": 0.867671583381022, "y": 1.3600845832948094}, "anon_13": {"x": 2.312833673882503, "y": 9.571421221791859}, "anon_14": {"x": -0.5354462490305562, "y": 0.24123620762159265}, "anon_15": {"x": -0.11173139266292545, "y": 0.357000247046046}, "anon_16": {"x": 2.2366188122867725, "y": 9.963585543671563}, "anon_17": {"x": 1.5766031409657975, "y": 9.242576387657067}, "anon_18": {"x": 1.7767425239664894, "y": 0.42819939716173616}, "anon_19": {"x": 1.1070468720651019, "y": -0.622869389355994}}}}, "stage2": {"neighbor_voting": {"known_labels": {"0": 0, "1": 1, "2": 1, "3": 0, "4": 1, "5": 1, "6": 1, "7": 1, "8": 1, "9": 0}, "steps": [{"target_node": 10, "neighbors": [0, 4, 5], "votes": {"label_0": 1, "label_1": 2}, "predicted": 1, "actual": 1, "is_correct": true}, {"target_node": 11, "neighbors": [0], "votes": {"label_0": 1, "label_1": 0}, "predicted": 0, "actual": 0, "is_correct": true}, {"target_node": 12, "neighbors": [0, 3], "votes": {"label_0": 2, "label_1": 0}, "predicted": 0, "actual": 1, "is_correct": false}, {"target_node": 13, "neighbors": [0, 1, 2, 3], "votes": {"label_0": 2, "label_1": 2}, "predicted": 1, "actual": 0, "is_correct": false}]}, "label_propagation": {"iterations": [{"iteration": 0, "description": "\u521d\u59cb\u72b6\u6001\uff1a\u90e8\u5206\u8282\u70b9\u6709\u6807\u7b7e", "labels": {"0": 0, "1": 0, "2": 0, "3": 1, "4": 1, "5": 0}, "num_labeled": 6}, {"iteration": 1, "description": "\u8fed\u4ee31\uff1a\u6807\u7b7e\u4f20\u64ad\u5230\u90bb\u5c45", "labels": {"0": 0, "1": 0, "2": 0, "3": 1, "4": 1, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "num_labeled": 17}, {"iteration": 2, "description": "\u8fed\u4ee32\uff1a\u6807\u7b7e\u4f20\u64ad\u5230\u90bb\u5c45", "labels": {"0": 0, "1": 0, "2": 0, "3": 1, "4": 1, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "num_labeled": 17}, {"iteration": 3, "description": "\u8fed\u4ee33\uff1a\u6807\u7b7e\u4f20\u64ad\u5230\u90bb\u5c45", "labels": {"0": 0, "1": 0, "2": 0, "3": 1, "4": 1, "5": 0, "6": 0, "7": 0, "8": 0, "9": 0}, "num_labeled": 17}]}, "graphsage": {"aggregation_steps": [{"target_node": 0, "neighbors": [1, 2, 3, 4, 5], "description": "\u805a\u5408\u8282\u70b90\u7684\u90bb\u5c45\u7279\u5f81", "aggregation_type": "mean"}, {"target_node": 1, "neighbors": [0, 2, 3, 7, 13], "description": "\u805a\u5408\u8282\u70b91\u7684\u90bb\u5c45\u7279\u5f81", "aggregation_type": "mean"}, {"target_node": 2, "neighbors": [0, 1, 3, 7, 8], "description": "\u805a\u5408\u8282\u70b92\u7684\u90bb\u5c45\u7279\u5f81", "aggregation_type": "mean"}], "description": "GraphSAGE\u901a\u8fc7\u91c7\u6837\u548c\u805a\u5408\u90bb\u5c45\u7279\u5f81\u6765\u5b66\u4e60\u8282\u70b9\u8868\u793a"}}, "stage3": {"robustness": {"test_name": "\u8fb9\u4fdd\u7559\u7387\u6d4b\u8bd5", "description": "\u6d4b\u8bd5\u5728\u8fb9\u88ab\u79fb\u9664\u7684\u60c5\u51b5\u4e0b\uff0c\u653b\u51fb\u7684\u51c6\u786e\u7387", "results": [{"retention_rate": 1.0, "accuracy": 0.9285445255346584, "edges_kept": 34}, {"retention_rate": 0.9, "accuracy": 0.86677828200903, "edges_kept": 30}, {"retention_rate": 0.8, "accuracy": 0.7677000881746602, "edges_kept": 27}, {"retention_rate": 0.7, "accuracy": 0.6625695625652899, "edges_kept": 23}, {"retention_rate": 0.6, "accuracy": 0.5242365377679827, "edges_kept": 20}, {"retention_rate": 0.5, "accuracy": 0.4879484610246634, "edges_kept": 17}]}, "defense": {"defense_name": "\u5dee\u5206\u9690\u79c1\u8fb9\u6270\u52a8", "description": "\u901a\u8fc7\u6dfb\u52a0\u6ee1\u8db3\u5dee\u5206\u9690\u79c1\u7684\u566a\u58f0\u8fb9\u6765\u4fdd\u62a4\u9690\u79c1", "results": [{"epsilon": 0.1, "attack_accuracy": 0.1, "privacy_level": "\u9ad8"}, {"epsilon": 0.5, "attack_accuracy": 0.1705845934693559, "privacy_level": "\u9ad8"}, {"epsilon": 1.0, "attack_accuracy": 0.24467324397853993, "privacy_level": "\u4e2d"}, {"epsilon": 2.0, "attack_accuracy": 0.5040937069693161, "privacy_level": "\u4e2d"}, {"epsilon": 5.0, "attack_accuracy": 1.0, "privacy_level": "\u4f4e"}, {"epsilon": 10.0, "attack_accuracy": 0.9063013902399462, "privacy_level": "\u4f4e"}]}}};
        
        let originalData, anonymizedData, attackData;
        let currentStage = 0;
        let matchedNodes = new Set();
        let seedNodes = [];
        let isAnimating = false;
        let autoPlayInterval = null;
        
        const config = {
            width: 600,
            height: 380,
            nodeRadius: 10,
            linkDistance: 100,
            chargeStrength: -400
        };
        
        function init() {
            console.log('åˆå§‹åŒ–æ•°æ®...');
            originalData = JSON.parse(JSON.stringify(DATA.graph_orig));
            anonymizedData = JSON.parse(JSON.stringify(DATA.graph_anon));
            attackData = JSON.parse(JSON.stringify(DATA.graph_anon));
            
            document.getElementById('total-nodes').textContent = originalData.nodes.length;
            document.getElementById('total-edges').textContent = originalData.links.length;
            
            drawGraph('graph-original', originalData, '#11998e');
            drawGraph('graph-anonymized', anonymizedData, '#4facfe');
            drawGraph('graph-attack', attackData, '#999');
            
            showMessage('âœ… ç³»ç»Ÿåˆå§‹åŒ–å®Œæˆï¼ç‚¹å‡»"å¼€å§‹æ¼”ç¤º"è§‚çœ‹æ”»å‡»è¿‡ç¨‹', 'success');
        }
        
        function drawGraph(containerId, graphData, color) {
            const container = document.getElementById(containerId);
            const width = container.clientWidth;
            const height = container.clientHeight;
            
            container.innerHTML = '';
            
            const svg = d3.select(`#${containerId}`)
                .append('svg')
                .attr('width', width)
                .attr('height', height);
            
            const g = svg.append('g');
            
            // ç¼©æ”¾
            const zoom = d3.zoom()
                .scaleExtent([0.5, 3])
                .on('zoom', (event) => {
                    g.attr('transform', event.transform);
                });
            
            svg.call(zoom);
            
            // åŠ›å¯¼å‘å›¾
            const simulation = d3.forceSimulation(graphData.nodes)
                .force('link', d3.forceLink(graphData.links).id(d => d.id).distance(80))
                .force('charge', d3.forceManyBody().strength(-300))
                .force('center', d3.forceCenter(width / 2, height / 2))
                .force('collision', d3.forceCollide().radius(25));
            
            // ç»˜åˆ¶è¾¹
            const link = g.append('g')
                .selectAll('line')
                .data(graphData.links)
                .enter()
                .append('line')
                .attr('class', 'link');
            
            // ç»˜åˆ¶èŠ‚ç‚¹
            const node = g.append('g')
                .selectAll('g')
                .data(graphData.nodes)
                .enter()
                .append('g')
                .attr('class', 'node')
                .call(d3.drag()
                    .on('start', dragStarted)
                    .on('drag', dragged)
                    .on('end', dragEnded));
            
            node.append('circle')
                .attr('r', 10)
                .attr('fill', color);
            
            node.append('text')
                .attr('dx', 15)
                .attr('dy', 5)
                .text(d => d.id);
            
            simulation.on('tick', () => {
                link
                    .attr('x1', d => d.source.x)
                    .attr('y1', d => d.source.y)
                    .attr('x2', d => d.target.x)
                    .attr('y2', d => d.target.y);
                
                node.attr('transform', d => `translate(${d.x},${d.y})`);
            });
            
            function dragStarted(event, d) {
                if (!event.active) simulation.alphaTarget(0.3).restart();
                d.fx = d.x;
                d.fy = d.y;
            }
            
            function dragged(event, d) {
                d.fx = event.x;
                d.fy = event.y;
            }
            
            function dragEnded(event, d) {
                if (!event.active) simulation.alphaTarget(0);
                d.fx = null;
                d.fy = null;
            }
            
            svg.node()._simulation = simulation;
        }
        
        function showMessage(text, type = 'info') {
            const box = document.getElementById('message-box');
            box.textContent = text;
            box.className = `message-box show ${type}`;
            setTimeout(() => box.classList.remove('show'), 4000);
        }
        
        function updateStage(stage) {
            currentStage = stage;
            document.querySelectorAll('.stage-item').forEach((item, idx) => {
                item.classList.remove('active', 'completed');
                if (idx < stage) item.classList.add('completed');
                else if (idx === stage) item.classList.add('active');
            });
        }
        
        function updateStats() {
            document.getElementById('stat-seeds').textContent = seedNodes.length;
            document.getElementById('stat-matched').textContent = matchedNodes.size;
            const rate = originalData ? Math.round((matchedNodes.size / originalData.nodes.length) * 100) : 0;
            document.getElementById('match-rate').textContent = rate + '%';
        }
        
        async function startDemo() {
            if (isAnimating) return;
            isAnimating = true;
            matchedNodes.clear();
            seedNodes = [];
            updateStats();
            updateStage(0);
            
            document.getElementById('btn-start').disabled = true;
            document.getElementById('btn-next').disabled = false;
            document.getElementById('btn-auto').disabled = false;
            
            showMessage('ğŸ¬ æ”»å‡»æ¼”ç¤ºå¼€å§‹ï¼', 'info');
        }
        
        async function nextStep() {
            currentStage++;
            updateStage(currentStage);
            
            const svg = d3.select('#graph-attack svg');
            
            switch(currentStage) {
                case 1: // ç§å­èŠ‚ç‚¹
                    showMessage('ğŸ” é˜¶æ®µ1ï¼šè¯†åˆ«ç§å­èŠ‚ç‚¹ - å¯»æ‰¾åº¦æ•°æœ€é«˜çš„èŠ‚ç‚¹...', 'info');
                    const sorted = [...attackData.nodes].sort((a, b) => b.degree - a.degree);
                    seedNodes = sorted.slice(0, 3).map(n => n.id);
                    
                    await sleep(800);
                    svg.selectAll('.node').each(function(d) {
                        if (seedNodes.includes(d.id)) {
                            d3.select(this).classed('seed', true);
                            matchedNodes.add(d.id);
                        }
                    });
                    updateStats();
                    await sleep(500);
                    showMessage(`âœ… å·²è¯†åˆ« ${seedNodes.length} ä¸ªç§å­èŠ‚ç‚¹ï¼è¿™äº›èŠ‚ç‚¹å…·æœ‰ç‹¬ç‰¹çš„ç»“æ„ç‰¹å¾`, 'success');
                    break;
                    
                case 2: // ç»“æ„åŒ¹é…
                    showMessage('ğŸ”¬ é˜¶æ®µ2ï¼šç»“æ„æŒ‡çº¹åŒ¹é… - åŸºäºé‚»å±…ç»“æ„åŒ¹é…èŠ‚ç‚¹...', 'info');
                    const unmatched1 = attackData.nodes.filter(n => !matchedNodes.has(n.id)).slice(0, 4);
                    
                    for (const node of unmatched1) {
                        await sleep(600);
                        svg.selectAll('.node').each(function(d) {
                            if (d.id === node.id) {
                                d3.select(this).classed('matched', true);
                                matchedNodes.add(d.id);
                            }
                        });
                        updateStats();
                    }
                    await sleep(500);
                    showMessage(`âœ… ç»“æ„åŒ¹é…å®Œæˆï¼è¯†åˆ«äº† ${unmatched1.length} ä¸ªèŠ‚ç‚¹`, 'success');
                    break;
                    
                case 3: // ä¼ æ’­æ”»å‡»
                    showMessage('ğŸŒŠ é˜¶æ®µ3ï¼šä¼ æ’­æ”»å‡» - åˆ©ç”¨å·²çŸ¥èŠ‚ç‚¹æ¨æ–­é‚»å±…...', 'info');
                    const unmatched2 = attackData.nodes.filter(n => !matchedNodes.has(n.id)).slice(0, 5);
                    
                    for (const node of unmatched2) {
                        await sleep(500);
                        svg.selectAll('.node').each(function(d) {
                            if (d.id === node.id) {
                                d3.select(this).classed('matched', true);
                                matchedNodes.add(d.id);
                            }
                        });
                        updateStats();
                    }
                    await sleep(500);
                    showMessage(`âœ… ä¼ æ’­æ”»å‡»å®Œæˆï¼åˆè¯†åˆ«äº† ${unmatched2.length} ä¸ªèŠ‚ç‚¹`, 'success');
                    break;
                    
                case 4: // å±æ€§æ¨æ–­
                    showMessage('ğŸ¯ é˜¶æ®µ4ï¼šå±æ€§æ¨æ–­ - æ¨æ–­èŠ‚ç‚¹çš„æ•æ„Ÿå±æ€§...', 'info');
                    await sleep(1500);
                    showMessage('âœ… å±æ€§æ¨æ–­å®Œæˆï¼å¯ä»¥è·å–ç”¨æˆ·çš„å¹´é¾„ã€å…´è¶£ç­‰ä¿¡æ¯', 'success');
                    break;
                    
                case 5: // å®Œæˆ
                    showMessage('ğŸ‰ æ”»å‡»å®Œæˆï¼', 'success');
                    await sleep(500);
                    svg.selectAll('.node').classed('matched', true);
                    document.getElementById('btn-next').disabled = true;
                    document.getElementById('btn-auto').disabled = true;
                    
                    const finalRate = Math.round((matchedNodes.size / originalData.nodes.length) * 100);
                    showMessage(`ğŸŠ æ”»å‡»æˆåŠŸï¼æˆåŠŸè¯†åˆ«äº† ${matchedNodes.size}/${originalData.nodes.length} ä¸ªèŠ‚ç‚¹ (${finalRate}%)`, 'success');
                    break;
            }
        }
        
        async function autoPlay() {
            document.getElementById('btn-next').disabled = true;
            document.getElementById('btn-auto').disabled = true;
            
            while (currentStage < 5) {
                await nextStep();
                await sleep(2000);
            }
        }
        
        function reset() {
            if (autoPlayInterval) clearInterval(autoPlayInterval);
            isAnimating = false;
            currentStage = 0;
            matchedNodes.clear();
            seedNodes = [];
            
            document.getElementById('btn-start').disabled = false;
            document.getElementById('btn-next').disabled = true;
            document.getElementById('btn-auto').disabled = true;
            
            updateStage(0);
            updateStats();
            
            attackData = JSON.parse(JSON.stringify(DATA.graph_anon));
            drawGraph('graph-attack', attackData, '#999');
            
            showMessage('ğŸ”„ å·²é‡ç½®ï¼Œå¯ä»¥é‡æ–°å¼€å§‹æ¼”ç¤º', 'info');
        }
        
        function sleep(ms) {
            return new Promise(resolve => setTimeout(resolve, ms));
        }
        
        // äº‹ä»¶ç›‘å¬
        document.getElementById('btn-start').addEventListener('click', startDemo);
        document.getElementById('btn-next').addEventListener('click', nextStep);
        document.getElementById('btn-auto').addEventListener('click', autoPlay);
        document.getElementById('btn-reset').addEventListener('click', reset);
        
        // åˆå§‹åŒ–
        window.addEventListener('load', init);
    </script>
</body>
</html>
