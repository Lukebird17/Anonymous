# 🎨 增强版交互演示系统使用指南

## ✨ 新增功能

### 1️⃣ **动画效果**
- ✅ 节点高亮动画（脉冲效果）
- ✅ 边高亮动画（虚线流动）
- ✅ 矩阵单元格选中动画（发光效果）
- ✅ 匹配过程逐步显示动画

### 2️⃣ **交互功能**
- ✅ **鼠标悬停提示**：悬停在节点/点上显示详细信息
- ✅ **节点点击**：点击节点查看邻居关系
- ✅ **矩阵联动**：悬停矩阵单元格时，同步高亮对应的图节点
- ✅ **匹配线显示**：在DeepWalk嵌入空间中显示匹配连线

### 3️⃣ **可视化增强**

#### 贪心特征匹配
- 🔵 原始图节点：蓝色
- 🟠 匿名图节点：橙色
- ✅ 已匹配节点：绿色边框
- ⚡ 当前匹配节点：橙色脉冲动画
- 📊 相似度矩阵：鼠标悬停联动显示

#### 匈牙利算法
- 📈 成本矩阵：蓝色(低成本/好) → 橙色(高成本/差)
- 🎯 逐步显示匹配过程
- ⏱️ 每个匹配延迟300ms依次显示

#### 图核方法
- 🟠 中心节点：橙色大圆
- 🔵 邻居节点：蓝色小圆
- ⚡ 悬停节点时高亮相连的边
- 📊 WL核迭代过程详细显示

#### DeepWalk嵌入
- 🔵 原始图嵌入点：蓝色
- 🟠 匿名图嵌入点：橙色
- 🔗 前5个匹配显示连接线
- 💡 悬停显示坐标信息

#### 邻居投票
- 📊 投票结果柱状图
- ✅ 胜出标签：绿色高亮
- 📈 动态显示投票分布

#### 标签传播
- 📊 标签分布网格显示
- ✓ 收敛状态实时更新
- 🎨 蓝色卡片显示数量

#### 差分隐私防御
- 📈 ε-准确率曲线图
- 🎯 50%基准线参考
- 💡 悬停显示详细数据
- 🛡️ 防御强度指示器（强/中/弱）
- 📊 带颜色的条形图

### 4️⃣ **播放控制**
- ▶️ 播放：自动播放所有步骤（2秒/步）
- ⏸ 暂停：暂停自动播放
- 🔄 重置：重置到第一步
- 👆 手动选择：点击任意步骤直接跳转

### 5️⃣ **颜色方案**
- 🔵 **蓝色(#2196F3)**：原始图、主色调、按钮激活
- 🟠 **橙色(#FF9800)**：匿名图、高亮、次色调
- 🟢 **绿色(#4CAF50)**：成功、已匹配
- 🔴 **红色(#f44336)**：警告、错误

## 🚀 使用方法

### 方法1：使用启动脚本
```bash
./run_complete_demo.sh
```

### 方法2：使用Python服务器
```bash
python3 -m http.server 8000 -d results
```
然后在浏览器打开：`http://localhost:8000/attack_demo_improved.html`

## 📖 操作技巧

1. **查看原理**：
   - 选择阶段 → 选择方法 → 右侧显示详细原理

2. **逐步演示**：
   - 点击步骤列表中的任意步骤
   - 或者点击"播放"按钮自动演示

3. **探索细节**：
   - 悬停在节点上查看度数信息
   - 悬停在矩阵单元格上查看对应节点
   - 悬停在数据点上查看坐标

4. **对比分析**：
   - 上方左右并排显示原始图和匿名图
   - 观察节点颜色和大小的变化
   - 对比不同方法的效果

## 🎯 演示重点

### 阶段一：身份去匿名化
- **贪心匹配**：观察相似度最高的节点对如何逐步匹配
- **匈牙利算法**：看成本矩阵如何通过行列归约找到最优匹配
- **图核方法**：理解子图结构如何通过WL核提取特征
- **DeepWalk**：看节点如何映射到2D嵌入空间

### 阶段二：属性推断
- **邻居投票**：观察投票柱状图，理解多数投票原理
- **标签传播**：看标签如何迭代传播直到收敛
- **GraphSAGE**：理解图神经网络的聚合过程

### 阶段三：防御方法
- **差分隐私**：观察ε参数如何影响攻击准确率
- **k-匿名化**：理解节点不可区分性原理
- **边扰动**：理解删边和加边的防御策略

## 💡 提示

- 所有动画都是**响应式**的，窗口大小改变时会自动调整
- 图的布局会在2秒后自动停止，避免抖动
- 播放速度为2秒/步，可以随时暂停
- 提示框会自动跟随鼠标显示
- 所有颜色都经过精心设计，确保对比度清晰

## 🐛 问题排查

1. **图不显示**：检查 `all_stages_demo_data.json` 是否存在
2. **动画不流畅**：关闭其他占用资源的程序
3. **颜色显示异常**：确保使用现代浏览器（Chrome/Firefox/Edge）
4. **提示框不显示**：检查浏览器控制台是否有JavaScript错误

## 📊 数据文件

演示系统依赖 `results/all_stages_demo_data.json`，包含：
- 原始图和匿名图结构
- 9种方法的详细步骤数据
- 相似度/成本矩阵
- 嵌入空间坐标
- 投票/传播过程数据
- 防御效果数据

---

**享受探索图匿名化攻击与防御的原理吧！** 🎉
