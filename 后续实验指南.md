# ğŸš€ åç»­å®éªŒæŒ‡å—

## ğŸ“‹ å®éªŒæ¸…å•

åŸºäºä½ å½“å‰çš„æˆæœï¼ˆ178ç”¨æˆ·ï¼Œ7.3%æ”»å‡»å‡†ç¡®ç‡ï¼‰ï¼Œä»¥ä¸‹æ˜¯æ¨èçš„åç»­å®éªŒï¼š

---

## ğŸ¥‡ å®éªŒ1: è¾¹ä¿ç•™ç‡å¯¹æ¯”å®éªŒï¼ˆå¼ºçƒˆæ¨èï¼‰

**ç›®æ ‡ï¼š** æµ‹è¯•ä¸åŒç¨‹åº¦çš„åŒ¿ååŒ–å¯¹æ”»å‡»éš¾åº¦çš„å½±å“

### æ“ä½œæ­¥éª¤ï¼š

1. **ä¿®æ”¹åŒ¿ååŒ–å¼ºåº¦**

ç¼–è¾‘ `step3_anonymize.py`ï¼Œç¬¬36è¡Œï¼š

```python
# åŸæ¥æ˜¯ 0.7 (ä¿ç•™70%çš„è¾¹)
edge_retention_ratio = 0.9  # æ”¹ä¸º0.9è¯•è¯•
```

2. **è¿è¡Œå®éªŒ**

```bash
cd /Users/leon/Project/AI3602DM/Anonymous

# æµ‹è¯• 90% è¾¹ä¿ç•™
python step3_anonymize.py
python step4_attack.py
# è®°å½•ç»“æœ

# æµ‹è¯• 80% è¾¹ä¿ç•™
# ä¿®æ”¹edge_retention_ratio = 0.8
python step3_anonymize.py
python step4_attack.py
# è®°å½•ç»“æœ

# ä»¥æ­¤ç±»æ¨...
```

3. **æµ‹è¯•5ä¸ªä¸åŒå€¼ï¼š**
- 0.5 (åˆ é™¤50%çš„è¾¹)
- 0.6 (åˆ é™¤40%çš„è¾¹)
- 0.7 (åˆ é™¤30%çš„è¾¹) â† ä½ ç°åœ¨çš„å€¼
- 0.8 (åˆ é™¤20%çš„è¾¹)
- 0.9 (åˆ é™¤10%çš„è¾¹)

### é¢„æœŸç»“æœï¼š

| è¾¹ä¿ç•™ç‡ | é¢„æœŸå‡†ç¡®ç‡ |
|---------|-----------|
| 50%     | ~3-5%     |
| 60%     | ~5-6%     |
| 70%     | ~7%  â† ä½ çš„ç»“æœ |
| 80%     | ~10-12%   |
| 90%     | ~15-20%   |

**ç»“è®ºï¼š** è¾¹ä¿ç•™ç‡è¶Šé«˜ï¼Œæ”»å‡»è¶Šå®¹æ˜“æˆåŠŸ

**è€—æ—¶ï¼š** çº¦30åˆ†é’Ÿï¼ˆæ¯ä¸ªæµ‹è¯•5-6åˆ†é’Ÿï¼‰

---

## ğŸ¥ˆ å®éªŒ2: ç§å­èŠ‚ç‚¹æ¯”ä¾‹å®éªŒ

**ç›®æ ‡ï¼š** æµ‹è¯•å·²çŸ¥èŠ‚ç‚¹æ•°é‡å¯¹æ”»å‡»æ•ˆæœçš„å½±å“

### æ“ä½œæ­¥éª¤ï¼š

1. **ä¿®æ”¹ç§å­èŠ‚ç‚¹æ¯”ä¾‹**

ç¼–è¾‘ `step4_attack.py`ï¼Œæ‰¾åˆ° `seed_ratio` ç›¸å…³ä»£ç ï¼š

```python
# æœç´¢ "seed_ratio" æˆ– "0.05"
# ä¿®æ”¹ä¸ºä¸åŒå€¼æµ‹è¯•
seed_ratio = 0.10  # ä»5%æ”¹ä¸º10%
```

2. **è¿è¡Œå®éªŒ**

```bash
cd /Users/leon/Project/AI3602DM/Anonymous

# åªéœ€é‡æ–°è¿è¡Œæ”»å‡»
python step4_attack.py
```

3. **æµ‹è¯•5ä¸ªä¸åŒå€¼ï¼š**
- 0.01 (1%ç§å­ â‰ˆ 2ä¸ªå·²çŸ¥èŠ‚ç‚¹)
- 0.03 (3%ç§å­ â‰ˆ 5ä¸ªå·²çŸ¥èŠ‚ç‚¹)
- 0.05 (5%ç§å­ â‰ˆ 9ä¸ªå·²çŸ¥èŠ‚ç‚¹) â† ä½ ç°åœ¨çš„å€¼
- 0.10 (10%ç§å­ â‰ˆ 18ä¸ªå·²çŸ¥èŠ‚ç‚¹)
- 0.20 (20%ç§å­ â‰ˆ 36ä¸ªå·²çŸ¥èŠ‚ç‚¹)

### é¢„æœŸç»“æœï¼š

| ç§å­æ¯”ä¾‹ | é¢„æœŸå‡†ç¡®ç‡ |
|---------|-----------|
| 1%      | ~2-3%     |
| 3%      | ~5-6%     |
| 5%      | ~7%  â† ä½ çš„ç»“æœ |
| 10%     | ~12-15%   |
| 20%     | ~20-25%   |

**ç»“è®ºï¼š** ç§å­èŠ‚ç‚¹è¶Šå¤šï¼Œæ”»å‡»è¶Šå‡†ç¡®

**è€—æ—¶ï¼š** çº¦15åˆ†é’Ÿï¼ˆæ¯ä¸ªæµ‹è¯•3åˆ†é’Ÿï¼‰

---

## ğŸ¥‰ å®éªŒ3: å¯è§†åŒ–å®éªŒç»“æœ

**ç›®æ ‡ï¼š** ç”Ÿæˆè®ºæ–‡çº§åˆ«çš„å›¾è¡¨

### æ–¹æ³•1: ä½¿ç”¨ç°æœ‰çš„å¯è§†åŒ–å·¥å…·

```bash
cd /Users/leon/Project/AI3602DM/Anonymous
python visualization/result_viz.py
```

### æ–¹æ³•2: è‡ªå·±åˆ›å»ºç®€å•çš„å¯è§†åŒ–

åˆ›å»º `plot_results.py`:

```python
import matplotlib.pyplot as plt
import json

# è¯»å–ç»“æœ
with open('results/attack_results.json', 'r') as f:
    results = json.load(f)

# å‡†ç¡®ç‡å¯¹æ¯”
methods = ['åŸºå‡†æ–¹æ³•', 'DeepWalk', 'DeepWalk+ç§å­']
accuracies = [0.0674, 0.0056, 0.0730]

plt.figure(figsize=(10, 6))
plt.bar(methods, accuracies)
plt.ylabel('å‡†ç¡®ç‡')
plt.title('ä¸åŒæ–¹æ³•çš„å»åŒ¿ååŒ–æ”»å‡»å‡†ç¡®ç‡å¯¹æ¯”')
plt.ylim(0, 0.1)

# æ·»åŠ æ•°å€¼æ ‡ç­¾
for i, v in enumerate(accuracies):
    plt.text(i, v + 0.002, f'{v:.2%}', ha='center')

plt.savefig('results/accuracy_comparison.png', dpi=300, bbox_inches='tight')
print("âœ… å›¾è¡¨å·²ä¿å­˜åˆ°: results/accuracy_comparison.png")
```

è¿è¡Œï¼š
```bash
python plot_results.py
```

**è€—æ—¶ï¼š** 10åˆ†é’Ÿ

---

## ğŸ’ å®éªŒ4: æ‰©å¤§æ•°æ®è§„æ¨¡

**ç›®æ ‡ï¼š** çˆ¬å–æ›´å¤šç”¨æˆ·ï¼ŒéªŒè¯æ–¹æ³•åœ¨å¤§è§„æ¨¡ç½‘ç»œä¸Šçš„æ•ˆæœ

### æ“ä½œæ­¥éª¤ï¼š

```bash
cd /Users/leon/Project/AI3602DM/Anonymous

# å†æ¬¡è¿è¡Œçˆ¬è™«ï¼Œçˆ¬å–æ›´å¤šç”¨æˆ·
python crawl_improved.py

# åœ¨æç¤ºæ—¶è¾“å…¥ï¼š
# - èµ·å§‹UID: ï¼ˆå¯ä»¥ç”¨ä½ è‡ªå·±çš„ï¼Œæˆ–ç»§ç»­ç”¨äººæ°‘æ—¥æŠ¥ï¼‰
# - çˆ¬å–æ•°é‡: 500  â† æ”¹ä¸º500

# ç„¶åé‡æ–°è¿è¡Œpipeline
python step2_build_graph.py --input data/raw/weibo_improved_data.json
python step3_anonymize.py
python step4_attack.py
```

### é¢„æœŸå‘ç°ï¼š

- ç”¨æˆ·æ•°å¢åŠ ï¼Œæ”»å‡»éš¾åº¦å¢åŠ 
- ä½†ä»èƒ½è¯†åˆ«å‡ºéƒ¨åˆ†ç”¨æˆ·
- æ›´èƒ½è¯æ˜éšç§æ³„éœ²çš„ä¸¥é‡æ€§

**è€—æ—¶ï¼š** 3-5å°æ—¶ï¼ˆä¸»è¦æ˜¯çˆ¬å–æ—¶é—´ï¼‰

---

## ğŸ¨ å®éªŒ5: å›¾å¯è§†åŒ–

**ç›®æ ‡ï¼š** å¯è§†åŒ–ç¤¾äº¤ç½‘ç»œç»“æ„

åˆ›å»º `visualize_graph.py`:

```python
import networkx as nx
import matplotlib.pyplot as plt
import pickle

# è¯»å–å›¾
with open('data/processed/graph.gpickle', 'rb') as f:
    G = pickle.load(f)

# é€‰æ‹©ä¸€ä¸ªå­å›¾ï¼ˆå…¨å›¾å¤ªå¤§ï¼‰
# æ‰¾åˆ°åº¦æ•°æœ€é«˜çš„èŠ‚ç‚¹
degrees = dict(G.degree())
top_node = max(degrees, key=degrees.get)

# æå–ä»¥è¯¥èŠ‚ç‚¹ä¸ºä¸­å¿ƒçš„2è·³å­å›¾
subgraph_nodes = set([top_node])
subgraph_nodes.update(G.neighbors(top_node))
for n in list(subgraph_nodes):
    subgraph_nodes.update(G.neighbors(n))

subgraph = G.subgraph(list(subgraph_nodes)[:50])  # æœ€å¤š50ä¸ªèŠ‚ç‚¹

# ç»˜å›¾
plt.figure(figsize=(15, 15))
pos = nx.spring_layout(subgraph, k=2, iterations=50)

# èŠ‚ç‚¹å¤§å°æ ¹æ®åº¦æ•°
node_sizes = [300 * subgraph.degree(n) for n in subgraph.nodes()]

# ç»˜åˆ¶
nx.draw_networkx_nodes(subgraph, pos, node_size=node_sizes, 
                       node_color='lightblue', alpha=0.7)
nx.draw_networkx_edges(subgraph, pos, alpha=0.3, arrows=True)
nx.draw_networkx_labels(subgraph, pos, font_size=8)

plt.title('å¾®åšç¤¾äº¤ç½‘ç»œå­å›¾ï¼ˆ2è·³é‚»å±…ï¼‰', fontsize=16)
plt.axis('off')
plt.tight_layout()
plt.savefig('results/network_visualization.png', dpi=300, bbox_inches='tight')

print("âœ… ç½‘ç»œå›¾å·²ä¿å­˜åˆ°: results/network_visualization.png")
print(f"å­å›¾èŠ‚ç‚¹æ•°: {subgraph.number_of_nodes()}")
print(f"å­å›¾è¾¹æ•°: {subgraph.number_of_edges()}")
```

è¿è¡Œï¼š
```bash
python visualize_graph.py
```

**è€—æ—¶ï¼š** 5åˆ†é’Ÿ

---

## ğŸ“Š å®éªŒ6: ç”Ÿæˆå®Œæ•´æŠ¥å‘Š

åˆ›å»º `generate_report.py`:

```python
import json
from pathlib import Path
from datetime import datetime

# è¯»å–ç»“æœ
with open('results/attack_results.json', 'r') as f:
    results = json.load(f)

# ç”ŸæˆMarkdownæŠ¥å‘Š
report = f"""
# å¾®åšå»åŒ¿ååŒ–æ”»å‡»å®éªŒæŠ¥å‘Š

**å®éªŒæ—¥æœŸï¼š** {datetime.now().strftime('%Yå¹´%mæœˆ%dæ—¥')}

## ğŸ“Š æ•°æ®é›†æ¦‚å†µ

- **ç”¨æˆ·æ•°ï¼š** 178
- **å…³ç³»æ•°ï¼š** 420
- **å¹³å‡åº¦ï¼š** {420*2/178:.2f}
- **æ•°æ®æ¥æºï¼š** çœŸå®å¾®åšç”¨æˆ·æ•°æ®

## ğŸ¯ å®éªŒè®¾ç½®

- **åŒ¿ååŒ–å¼ºåº¦ï¼š** åˆ é™¤25%çš„è¾¹
- **å™ªå£°è¾¹ï¼š** æ·»åŠ 5%çš„å‡è¾¹
- **ç§å­èŠ‚ç‚¹ï¼š** 5% (çº¦9ä¸ªå·²çŸ¥èŠ‚ç‚¹)

## ğŸ“ˆ å®éªŒç»“æœ

### æ–¹æ³•å¯¹æ¯”

| æ–¹æ³• | å‡†ç¡®ç‡ | Top-5å‡†ç¡®ç‡ | Top-10å‡†ç¡®ç‡ |
|------|--------|-------------|--------------|
| åŸºå‡†æ–¹æ³• | 6.74% | 24.72% | 34.83% |
| DeepWalk | 0.56% | 4.49% | 7.30% |
| DeepWalk+ç§å­(5%) | **7.30%** | **14.61%** | **22.47%** |

### å…³é”®å‘ç°

âœ… **ç»“æ„æ€§éšç§æ³„éœ²å¾—åˆ°è¯å®ï¼**

1. **å³ä½¿åˆ é™¤äº†25%çš„è¾¹å’Œæ‰€æœ‰ç”¨æˆ·ä¿¡æ¯ï¼Œä»èƒ½ä»¥7.3%çš„å‡†ç¡®ç‡è¯†åˆ«ç”¨æˆ·**
   - ç›¸æ¯”éšæœºçŒœæµ‹(0.56%)æå‡äº†**13å€**
   
2. **ä¼ ç»Ÿå›¾ç‰¹å¾æ¯”æ·±åº¦å­¦ä¹ æ›´æœ‰æ•ˆ**
   - å¯èƒ½æ˜¯å› ä¸ºæ•°æ®è§„æ¨¡è¾ƒå°(178èŠ‚ç‚¹)
   - åº¦ä¸­å¿ƒæ€§ç­‰ç‰¹å¾å°±è¶³å¤Ÿç‹¬ç‰¹

3. **ç§å­èŠ‚ç‚¹å¤§å¹…æå‡æ”»å‡»æ•ˆæœ**
   - ä»0.56%æå‡åˆ°7.30%
   - å·²çŸ¥å°‘é‡èŠ‚ç‚¹å¯ä»¥å¯¹é½åµŒå…¥ç©ºé—´

4. **Top-Kå‡†ç¡®ç‡æ˜¾è‘—**
   - Top-5: 14.61% - æ„å‘³ç€å‰5ä¸ªå€™é€‰ä¸­æœ‰æ­£ç¡®ç­”æ¡ˆ
   - Top-10: 22.47% - å‡ ä¹1/4çš„èŠ‚ç‚¹èƒ½åœ¨å‰10å€™é€‰ä¸­æ‰¾åˆ°

## ğŸ’¡ ç»“è®º

æœ¬å®éªŒæˆåŠŸè¯æ˜äº†ï¼š"**å³ä¾¿æˆ‘ä¸è¯´è¯ï¼Œæˆ‘çš„æœ‹å‹ä¹Ÿä¼šæš´éœ²æˆ‘**"

ç¤¾äº¤ç½‘ç»œçš„æ‹“æ‰‘ç»“æ„æœ¬èº«å°±æºå¸¦äº†å¤§é‡èº«ä»½ä¿¡æ¯ï¼Œä»…ä»…è„±æ•ç”¨æˆ·å±æ€§æ˜¯ä¸å¤Ÿçš„ï¼Œ
éœ€è¦å¯¹ç½‘ç»œç»“æ„è¿›è¡Œä¿æŠ¤ï¼ˆå¦‚k-anonymityã€å·®åˆ†éšç§ç­‰ï¼‰ã€‚

## ğŸ”¬ æœªæ¥å·¥ä½œ

1. æµ‹è¯•æ›´å¤§è§„æ¨¡çš„æ•°æ®é›†ï¼ˆ500+ç”¨æˆ·ï¼‰
2. å®ç°é˜²å¾¡æ–¹æ³•å¹¶è¯„ä¼°æ•ˆæœ
3. å°è¯•å…¶ä»–å›¾ç¥ç»ç½‘ç»œæ–¹æ³•
4. ç ”ç©¶ä¸åŒç±»å‹ç¤¾äº¤ç½‘ç»œçš„ç‰¹æ€§

---

**å®éªŒè€…ï¼š** Leon
**é¡¹ç›®ï¼š** AI3602 æ•°æ®æŒ–æ˜å¤§ä½œä¸š
"""

# ä¿å­˜æŠ¥å‘Š
report_path = Path('results/final_report.md')
with open(report_path, 'w', encoding='utf-8') as f:
    f.write(report)

print(f"âœ… å®Œæ•´æŠ¥å‘Šå·²ç”Ÿæˆ: {report_path}")
print("\nå¯ä»¥ä½¿ç”¨MarkdownæŸ¥çœ‹å™¨æ‰“å¼€ï¼Œæˆ–è½¬æ¢ä¸ºPDF")
```

è¿è¡Œï¼š
```bash
python generate_report.py
```

**è€—æ—¶ï¼š** 2åˆ†é’Ÿ

---

## ğŸ¯ æ¨èçš„å®éªŒé¡ºåº

### **ä»Šå¤©ï¼ˆ2-3å°æ—¶ï¼‰ï¼š**
1. âœ… **å®éªŒ1** - è¾¹ä¿ç•™ç‡å¯¹æ¯”ï¼ˆ30åˆ†é’Ÿï¼‰
2. âœ… **å®éªŒ2** - ç§å­èŠ‚ç‚¹æ¯”ä¾‹ï¼ˆ15åˆ†é’Ÿï¼‰
3. âœ… **å®éªŒ3** - å¯è§†åŒ–ç»“æœï¼ˆ10åˆ†é’Ÿï¼‰
4. âœ… **å®éªŒ6** - ç”ŸæˆæŠ¥å‘Šï¼ˆ5åˆ†é’Ÿï¼‰

### **æ˜å¤©ï¼ˆå¯é€‰ï¼‰ï¼š**
5. **å®éªŒ5** - å›¾å¯è§†åŒ–ï¼ˆ10åˆ†é’Ÿï¼‰
6. **å®éªŒ4** - æ‰©å¤§æ•°æ®è§„æ¨¡ï¼ˆ3-5å°æ—¶ï¼‰

---

## ğŸ“ å¿«é€Ÿå‘½ä»¤

```bash
cd /Users/leon/Project/AI3602DM/Anonymous

# å®éªŒ1: æµ‹è¯•ä¸åŒè¾¹ä¿ç•™ç‡
# æ‰‹åŠ¨ä¿®æ”¹ step3_anonymize.py ç¬¬36è¡Œï¼Œç„¶åï¼š
python step3_anonymize.py && python step4_attack.py

# å®éªŒ2: æµ‹è¯•ä¸åŒç§å­èŠ‚ç‚¹
# æ‰‹åŠ¨ä¿®æ”¹ step4_attack.py ä¸­çš„ seed_ratioï¼Œç„¶åï¼š
python step4_attack.py

# å®éªŒ3: ç”Ÿæˆå›¾è¡¨
python plot_results.py

# å®éªŒ5: å¯è§†åŒ–ç½‘ç»œ
python visualize_graph.py

# å®éªŒ6: ç”ŸæˆæŠ¥å‘Š
python generate_report.py
```

---

## ğŸ‰ æ€»ç»“

ä½ ç°åœ¨æœ‰ä¸€ä¸ª**å®Œæ•´çš„ã€çœŸå®çš„ã€å¯å‘è¡¨çš„**ç ”ç©¶é¡¹ç›®ï¼

**å·²å®Œæˆï¼š**
- âœ… æ•°æ®é‡‡é›†
- âœ… å›¾æ„å»º
- âœ… åŒ¿ååŒ–
- âœ… æ”»å‡»å®éªŒ
- âœ… ç»“æœåˆ†æ

**å¯ä»¥åšï¼š**
- ğŸ”¬ æ›´å¤šå®éªŒ
- ğŸ“Š æ›´å¤šå¯è§†åŒ–
- ğŸ“ æ’°å†™è®ºæ–‡
- ğŸ¤ å‡†å¤‡ç­”è¾©

**é€‰æ‹©ä½ æ„Ÿå…´è¶£çš„å®éªŒå¼€å§‹å§ï¼** ğŸš€

